
@model IEnumerable<Page>

@{
    ViewData["Title"] = "خبر ها";
}

<h1>لیست خبر ها</h1>





    <div class="container">
      

        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr class="info">

                    <th>
                        تصویر
                    </th>
                    <th>
                        عنوان خبر
                    </th>
                    <th>
                        تاریخ انتشار
                    </th>
                    <th>
                        توضیح مختصر
                    </th>
                    <th>
                        محتوا
                    </th>
                    <th>
                        برچسب ها
                    </th>
                    <th>
                        تعداد بازدید
                    </th>
                    <th>
                        دسته بندی
                    </th>
                    <th>
                        نمایش در اسلایدر
                    </th>
                    <th>
                        عملیات
                    </th>
                </tr>
            </thead>
            <tbody>
                <!-- داده‌های نمونه (در پروژه واقعی با حلقه foreach تولید می‌شود) -->
                @foreach (var item in Model)
                {
                    <tr>
                    
                        <td>
                            <img src="/PageImages/@item.PageImg" alt="" style="max-width:100px" class="img-thumbnail" />
                        </td>
                        <td>@item.PageTitle</td>
                        <td>@item.RegisterDate.ToShamsi()</td>
                        <td>@item.ShortDesc</td>
                        <td>@item.Content</td>
                        <td>@item.PageTags</td>
                        <td>@item.PageVisit</td>
                        <td>@item.Categury.CateguryTitle</td>
                        <td> @if (item.isShowSlider)
                            {
                                <input type="checkbox" checked />
                            }
                            else
                            {
                                <input type="checkbox"  />
                            }
                        </td>

                        <td>
                            <a asp-action="EditPage" asp-route-id="@item.Id" class="btn btn-xs btn-info">ویرایش</a>
                            <a asp-action="DeletePage" asp-route-id="@item.Id" class="btn btn-xs btn-danger">حذف</a>
                   
                        </td>
                    </tr>
                }

            </tbody>
        </table>

        @if (ViewBag.Count > 1)
        {
            <nav aria-label="...">
                <ul class="pagination">
                    @if (ViewBag.Previous >= 1)
                    {

                        <li class="page-item">
                            <a class="page-link" class="page-link" asp-area="Admin" asp-controller="Account" asp-action="PageList" asp-route-PageNum=@ViewBag.Previous>Previous</a>
                        </li>

                    }
                    @for (int i = 1; i <= ViewBag.Count; i++)
                    {
                        if (i == ViewBag.PageNum)
                        {
                            <li class="page-item active">
                                <a class="page-link" asp-area="Admin" asp-controller="Account" asp-action="PageList" asp-route-PageNum="@i">@i <span class="sr-only">(current)</span></a>
                            </li>
                        }
                        else
                        {
                            <li class="page-item"><a class="page-link" asp-area="Admin" asp-controller="Account" asp-action="PageList" asp-route-PageNum="@i">@i</a></li>
                        }

                    }

                    @if (ViewBag.Next <= ViewBag.Count)
                    {
                        <li class="page-item">
                            <a class="page-link" class="page-link" asp-area="Admin" asp-controller="Account" asp-action="PageList" asp-route-PageNum="@ViewBag.Next">Next</a>
                        </li>
                    }

                </ul>
            </nav>
        }
    </div>
